(function(e){function t(t){for(var c,a,i=t[0],s=t[1],r=t[2],u=0,m=[];u<i.length;u++)a=i[u],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&m.push(n[a][0]),n[a]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c]);d&&d(t);while(m.length)m.shift()();return l.push.apply(l,r||[]),o()}function o(){for(var e,t=0;t<l.length;t++){for(var o=l[t],c=!0,i=1;i<o.length;i++){var s=o[i];0!==n[s]&&(c=!1)}c&&(l.splice(t--,1),e=a(a.s=o[0]))}return e}var c={},n={app:0},l=[];function a(t){if(c[t])return c[t].exports;var o=c[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=c,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)a.d(o,c,function(t){return e[t]}.bind(null,c));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var r=0;r<i.length;r++)t(i[r]);var d=s;l.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},1:function(e,t){},1370:function(e,t,o){"use strict";o("2778")},"212c":function(e,t,o){},2778:function(e,t,o){},"4cf3":function(e,t,o){"use strict";o("ffa1")},"56d7":function(e,t,o){"use strict";o.r(t);var c=o("9605");const n={id:"app"};function l(e,t){const o=Object(c["resolveComponent"])("router-view");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[Object(c["createVNode"])(o)])}var a=o("9c21"),i=o.n(a);const s={},r=i()(s,[["render",l]]);var d=r,u=o("4f9c");function m(e,t,o,n,l,a){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,Object(c["toDisplayString"])(e.upload_dir),1)}var h={data(){return{message:"欢迎来到广告平台",info:{},websock:null,lockReconnect:!1,timeout:3e3,timeoutObj:null,serverTimeoutObj:null,timeoutnum:null}},methods:{initWebSocket(){const e="wss://localhost/ws/";this.websock=new WebSocket(e),this.websock.onopen=this.websocketonopen,this.websock.onmessage=this.websocketonmessage,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},reconnect(){var e=this;e.lockReconnect||(e.lockReconnect=!0,e.timeoutnum&&clearTimeout(e.timeoutnum),e.timeoutnum=setTimeout((function(){e.initWebSocket(),e.lockReconnect=!1}),5e3))},reset(){var e=this;clearTimeout(e.timeoutObj),clearTimeout(e.serverTimeoutObj),e.start()},start(){var e=this;e.timeoutObj&&clearTimeout(e.timeoutObj),e.serverTimeoutObj&&clearTimeout(e.serverTimeoutObj),e.timeoutObj=setTimeout((function(){1==e.websock.readyState||e.reconnect(),e.serverTimeoutObj=setTimeout((function(){e.websock.close()}),e.timeout)}),e.timeout)},websocketonopen(e){console.log("成功");this.websock.send("123")},websocketonerror(){console.log("失败"),this.initWebSocket()},websocketonmessage(e){const t=e.data;console.log(t),this.reset()},websocketsend(e){this.websock.send(e)},websocketclose(e){this.reconnect(),console.log("断开连接",e)},send:function(){console.log(this.info)}},mounted(){this.initWebSocket()}};o("4cf3");const b=i()(h,[["render",m],["__scopeId","data-v-af35490a"]]);var p=b;const O=e=>(Object(c["pushScopeId"])("data-v-4fecee71"),e=e(),Object(c["popScopeId"])(),e),j=O(()=>Object(c["createElementVNode"])("h1",null,"注册页面",-1)),g=["value"];function f(e,t,o,n,l,a){const i=Object(c["resolveComponent"])("van-field"),s=Object(c["resolveComponent"])("van-button"),r=Object(c["resolveComponent"])("van-cell-group");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[j,Object(c["createVNode"])(r,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(i,{label:"用户名",modelValue:l.username,"onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e)},null,8,["modelValue"]),Object(c["createVNode"])(i,{label:"密码",modelValue:l.password,"onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),type:"password"},null,8,["modelValue"]),Object(c["createVNode"])(i,{label:"再次输入密码",modelValue:l.password1,"onUpdate:modelValue":t[2]||(t[2]=e=>l.password1=e),type:"password"},null,8,["modelValue"]),Object(c["createTextVNode"])(" 用户类型: "),Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.type=e)},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(l.types,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{value:e.id,key:t},Object(c["toDisplayString"])(e.text),9,g))),128))],512),[[c["vModelSelect"],l.type]]),Object(c["createVNode"])(s,{color:"gray",onClick:a.reg},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" 点击注册 ")]),_:1},8,["onClick"])]),_:1})])}var v={data(){return{username:"",password:"",password1:"",type:1,types:[{id:1,text:"商户后台"},{id:2,text:"运营后台"},{id:3,text:"流量后台"}]}},methods:{reg:function(){this.myaxios("https://localhost/user/","post",{username:this.username,password:this.password,type:this.type}).then(e=>{console.log(e),200===e.code?this.$toast.success("注册成功"):this.$toast.fail(e.msg)})}},mounted(){this.myaxios("https://localhost/","get").then(e=>{console.log(e)})}};o("d1b1");const k=i()(v,[["render",f],["__scopeId","data-v-4fecee71"]]);var V=k;const y=e=>(Object(c["pushScopeId"])("data-v-4ff592d0"),e=e(),Object(c["popScopeId"])(),e),N=y(()=>Object(c["createElementVNode"])("h1",null,"登录页面",-1)),x=["value"];function w(e,t,o,n,l,a){const i=Object(c["resolveComponent"])("van-field"),s=Object(c["resolveComponent"])("van-button"),r=Object(c["resolveComponent"])("van-cell-group");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[N,Object(c["createVNode"])(r,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(i,{label:"用户名",modelValue:l.username,"onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e)},null,8,["modelValue"]),Object(c["createVNode"])(i,{label:"密码",modelValue:l.password,"onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),type:"password"},null,8,["modelValue"]),Object(c["createTextVNode"])(" 用户类型: "),Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.type=e)},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(l.types,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{value:e.id,key:t},Object(c["toDisplayString"])(e.text),9,x))),128))],512),[[c["vModelSelect"],l.type]]),Object(c["createVNode"])(s,{color:"gray",onClick:a.reg},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" 点击登录 ")]),_:1},8,["onClick"])]),_:1})])}o("9805");var _={data(){return{username:"",password:"",password1:"",type:1,types:[{id:1,text:"商户后台"},{id:2,text:"运营后台"},{id:3,text:"流量后台"}]}},methods:{reg:function(){this.myaxios("https://localhost/user/","get",{username:this.username,password:this.password,type:this.type}).then(e=>{console.log(e),200==e.code?(this.$toast.success("登录成功"),localStorage.setItem("id",e.id),localStorage.setItem("type",e.type),localStorage.setItem("username",e.username),localStorage.setItem("token",e.token),this.$router.push("/userinfo")):this.$toast.fail(e.msg)})}},mounted(){this.myaxios("https://localhost/","get").then(e=>{console.log(e)})}};o("1370");const C=i()(_,[["render",w],["__scopeId","data-v-4ff592d0"]]);var S=C;const B=e=>(Object(c["pushScopeId"])("data-v-2c657ffa"),e=e(),Object(c["popScopeId"])(),e),T=B(()=>Object(c["createElementVNode"])("h1",null,"用户信息提交",-1)),E={class:"container"},I={class:"item_column"},D={class:"left"},J={class:"right"},W={key:0},U={key:0},F={key:1},R={key:2},$={key:3},L={key:1},M={key:0},P={key:1},z={key:2};function G(e,t,o,n,l,a){const i=Object(c["resolveComponent"])("left"),s=Object(c["resolveComponent"])("right_merchant"),r=Object(c["resolveComponent"])("setmoney"),d=Object(c["resolveComponent"])("adthing"),u=Object(c["resolveComponent"])("myorder"),m=Object(c["resolveComponent"])("chat");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[T,Object(c["createElementVNode"])("div",E,[Object(c["createElementVNode"])("div",I,[Object(c["createElementVNode"])("div",D,[Object(c["createVNode"])(i,{onVal:a.get_val},null,8,["onVal"])]),Object(c["createElementVNode"])("div",J,["1"===l.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",W,[0===l.nodeid?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",U,[Object(c["createVNode"])(s)])):Object(c["createCommentVNode"])("",!0),1===l.nodeid?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",F,[Object(c["createVNode"])(r)])):Object(c["createCommentVNode"])("",!0),2===l.nodeid?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",R,[Object(c["createVNode"])(d)])):Object(c["createCommentVNode"])("",!0),6===l.nodeid?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",$,[Object(c["createVNode"])(u)])):Object(c["createCommentVNode"])("",!0)])):Object(c["createCommentVNode"])("",!0),"2"===l.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",L,[0===l.nodeid?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",M,[Object(c["createVNode"])(m)])):Object(c["createCommentVNode"])("",!0),1===l.nodeid?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",P,[Object(c["createVNode"])(r)])):Object(c["createCommentVNode"])("",!0),7===l.nodeid?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",z,[Object(c["createVNode"])(m)])):Object(c["createCommentVNode"])("",!0)])):Object(c["createCommentVNode"])("",!0)])])])])}const H={key:0},q=["onClick"];function A(e,t,o,n,l,a){const i=Object(c["resolveComponent"])("router-link"),s=Object(c["resolveComponent"])("van-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[""==l.username?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",H,[Object(c["createVNode"])(i,{to:"/login"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("登录")]),_:1}),Object(c["createTextVNode"])(" / "),Object(c["createVNode"])(i,{to:"/reg"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("注册")]),_:1})])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",null,[Object(c["createTextVNode"])(" 欢迎您，尊贵的"+Object(c["toDisplayString"])(a.change_type(l.type))+" 用户: "+Object(c["toDisplayString"])(l.username)+" ",1),Object(c["createVNode"])(s,{onClick:a.logout},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("登出")]),_:1},8,["onClick"]),Object(c["createElementVNode"])("ul",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(l.menulist,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:t,onClick:t=>n.get_nodeid(e.id)},Object(c["toDisplayString"])(e.name),9,q))),128))])])])}var K={data(){return{username:"",type:0,menulist:[]}},setup(e,{emit:t}){function o(e){t("val",e)}return{get_nodeid:o}},methods:{get_data:function(){this.myaxios("https://localhost/menu/","get",{id:localStorage.getItem("id")}).then(e=>{console.log(e),this.menulist=e})},logout:function(){localStorage.removeItem("username"),localStorage.removeItem("id"),localStorage.removeItem("token"),localStorage.removeItem("type"),this.$router.push("/login")},change_type:function(e){return"1"===e?"商户后台":"2"===e?"运营后台":"流量后台"}},mounted(){null===localStorage.getItem("username")?this.username="":(this.username=localStorage.getItem("username"),this.type=localStorage.getItem("type")),this.get_data()}};o("e152");const Q=i()(K,[["render",A],["__scopeId","data-v-1101fc01"]]);var X=Q;function Y(e,t,o,n,l,a){const i=Object(c["resolveComponent"])("van-button"),s=Object(c["resolveComponent"])("van-uploader"),r=Object(c["resolveComponent"])("van-field"),d=Object(c["resolveComponent"])("van-image"),u=Object(c["resolveComponent"])("van-cell-group");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["createElementVNode"])("h1",null,"您的审核状态:"+Object(c["toDisplayString"])(a.change_state(l.state)),1),Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])(()=>[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(l.info.data,(e,t,o)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:o},[Object(c["createVNode"])(s,{onClick:e=>a.set_click(o,t),"after-read":a.afterread},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(i,{icon:"plus",type:"primary"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("上传文件")]),_:1})]),_:2},1032,["onClick","after-read"]),Object(c["createVNode"])(r,{label:e,modelValue:l.info[t],"onUpdate:modelValue":e=>l.info[t]=e},null,8,["label","modelValue","onUpdate:modelValue"]),Object(c["withDirectives"])(Object(c["createVNode"])(d,{width:"15rem",height:"15rem",src:l.info["img"+o]},null,8,["src"]),[[c["vShow"],l.info["img"+o]]])]))),128)),Object(c["createVNode"])(i,{color:"green",onClick:a.commit},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("提交材料")]),_:1},8,["onClick"])]),_:1})])}var Z={data(){return{info:{},type:1,types:[{id:1,text:"商户后台"},{id:2,text:"运营后台"},{id:3,text:"流量后台"}],index:0,key:"",state:0,state_dict:{0:"待审核",1:"审核通过",2:"审核拒绝",3:"审核中"}}},methods:{change_state(e){return this.state_dict[e]},get_info:function(){this.myaxios("https://localhost/auditupdate/","get",{id:localStorage.getItem("id"),token:localStorage.getItem("token")}).then(e=>{console.log(e),this.state=e.state;var t=JSON.parse(e.audit),o=0;for(var c in t)this.info[c]=t[c].val,this.info["img"+o]=this.upload_dir+t[c].val,o++})},set_click:function(e,t){console.log(e),this.index=e,this.key=t},commit:function(){let e={};var t=0;for(var o in this.info.data)console.log(o),console.log(this.info.data[o]),e[o]={text:this.info.data[o],val:this.info[o]},t++,console.log(t);console.log(e),this.myaxios("https://localhost/auditupdate/","put",{id:localStorage.getItem("id"),audit:JSON.stringify(e)}).then(e=>{console.log(e),200===e.code&&this.$toast.success("提交审核资料成功")})},afterread:function(e){let t=new FormData;t.append("file",e.file),t.append("type","adthing");const o=this.axios.create({withCredentials:!1});o({method:"post",url:"https://localhost/upload/",data:t}).then(e=>{console.log(e);var t=this.upload_dir+e.data.filename,o=t.substring(t.lastIndexOf(".")+1);console.log(o)})},get_role:function(){this.myaxios("https://localhost/role/","get",{type:localStorage.getItem("type")}).then(e=>{console.log(e),e=JSON.parse(e);var t=0;for(var o in e)this.info[o]="",this.info["img"+t]="",t++;this.info.data=e,console.log(this.info.data)})}},mounted(){this.get_role(),this.get_info()}};o("8084");const ee=i()(Z,[["render",Y],["__scopeId","data-v-0e81b226"]]);var te=ee;const oe=e=>(Object(c["pushScopeId"])("data-v-749aa2dd"),e=e(),Object(c["popScopeId"])(),e),ce={class:"chatbox"},ne=["innerHTML"],le=oe(()=>Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("td",null,"用户id"),Object(c["createElementVNode"])("td",null,"用户名"),Object(c["createElementVNode"])("td",null,"用户类型"),Object(c["createElementVNode"])("td",null,"表单"),Object(c["createElementVNode"])("td",null,"操作")],-1));function ae(e,t,o,n,l,a){const i=Object(c["resolveComponent"])("van-button"),s=Object(c["resolveComponent"])("van-field"),r=Object(c["resolveComponent"])("van-uploader"),d=Object(c["resolveComponent"])("van-popup"),u=Object(c["resolveComponent"])("van-tab"),m=Object(c["resolveComponent"])("van-tabs"),h=Object(c["resolveComponent"])("van-image");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["createElementVNode"])("h1",null,"您需要审核"+Object(c["toDisplayString"])(l.num)+"位用户",1),Object(c["createVNode"])(i,{color:"wheat",onClick:a.openchat},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("咨询客服")]),_:1},8,["onClick"]),Object(c["createVNode"])(d,{show:l.show,"onUpdate:show":t[1]||(t[1]=e=>l.show=e),"before-close":a.close},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("table",ce,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(l.msglist,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:t},[Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.username),1),Object(c["createElementVNode"])("td",{innerHTML:a.change_bg(e.msg,e.uid)},null,8,ne)]))),128))]),Object(c["createVNode"])(s,{label:"信息",modelValue:l.message,"onUpdate:modelValue":t[0]||(t[0]=e=>l.message=e),placeholder:"请输入聊天内容"},null,8,["modelValue"]),Object(c["createVNode"])(r,{"after-read":a.afterread},null,8,["after-read"]),Object(c["createVNode"])(i,{size:"small",color:"green",onClick:a.send},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("点击发送")]),_:1},8,["onClick"])]),_:1},8,["show","before-close"]),Object(c["createVNode"])(m,{modelValue:l.active,"onUpdate:modelValue":t[2]||(t[2]=e=>l.active=e)},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(u,{title:"审核中"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("审核中")]),_:1}),Object(c["createVNode"])(u,{title:"审核通过"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("审核通过")]),_:1}),Object(c["createVNode"])(u,{title:"审核拒绝"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("审核拒绝")]),_:1})]),_:1},8,["modelValue"]),Object(c["createElementVNode"])("table",null,[le,(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(l.auditlist,(t,o)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:o},[Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.id),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.username),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.type),1),Object(c["createElementVNode"])("td",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.audit,(t,o)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:o},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t["text"])+": ",1),Object(c["createVNode"])(h,{src:e.upload_dir+t["val"]},null,8,["src"])]))),128))]),Object(c["createElementVNode"])("td",null,[Object(c["createVNode"])(i,{color:"green"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("通过")]),_:1}),Object(c["createTextVNode"])(" / "),Object(c["createVNode"])(i,{color:"red"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("拒绝")]),_:1})])]))),128))])])}var ie={data(){return{auditlist:[],num:0,active:0,websock:null,lockReconnect:!1,timeout:3e3,timeoutObj:null,serverTimeoutObj:null,timeoutnum:null,show:!1,message:"",msglist:[],chatid:3,clientid:0,count:0,uid:0}},methods:{afterread(e){let t=new FormData;t.append("file",e.file),t.append("type","chat");const o=this.axios.create({withCredentials:!1});o({method:"post",url:"https://localhost/upload/",data:t}).then(e=>{console.log(e);var t=e.data.filename,o="<img src='https://localhost/static/"+t+"' width=200 height=300  />";this.message=o,this.send()})},change_bg:function(e,t){return localStorage.getItem("id")===t?"<div  style='background-color:green'>"+e+"</div>":e},send:function(){if(this.count++,0===this.clientid){localStorage.getItem("id"),this.chatid;this.myaxios("https://localhost/outserver/","get",{id:localStorage.getItem("id")}).then(e=>{this.uid=e.uid,console.log(e)})}else this.clientid,localStorage.getItem("id");if(console.log("计数器:"+this.count),console.log("出队uid"+this.uid),0===this.clientid&&1==this.count&&0==this.uid)return this.$toast.fail("对不起，客服正在忙，请稍后"),this.show=!1,this.count=0,!1;this.myaxios("http://localhost:8000/send/","post",{data:this.message}).then(e=>{console.log(e),this.message=""})},close:function(){return console.log("退出聊天"),this.myaxios("https://localhost/client/","post",{id:localStorage.getItem("id"),state:0}).then(e=>{console.log(e)}),!0},openchat:function(){var e={};if(console.log(this.clientid),this.show=!0,0===this.clientid){var t="chat"+localStorage.getItem("id")+this.chatid;e={key:t,id:localStorage.getItem("id")},this.myaxios("https://localhost/client/","put",{id:this.chatid,clientid:localStorage.getItem("id")}).then(e=>{console.log(e)})}else{t="chat"+this.clientid+localStorage.getItem("id");e={key:t},this.myaxios("https://localhost/client/","post",{id:localStorage.getItem("id"),state:1}).then(e=>{console.log(e)})}this.myaxios("https://localhost/chatlist/","get",e).then(e=>{console.log(e);for(var t=[],o=0;o<e.length;o++){var c=JSON.parse(e[o]);console.log(c),t.push(c)}t=t.reverse(),this.msglist=t})},initWebSocket(){const e="wss://localhost/ws/";this.websock=new WebSocket(e),this.websock.onopen=this.websocketonopen,this.websock.onmessage=this.websocketonmessage,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},reconnect(){var e=this;e.lockReconnect||(e.lockReconnect=!0,e.timeoutnum&&clearTimeout(e.timeoutnum),e.timeoutnum=setTimeout((function(){e.initWebSocket(),e.lockReconnect=!1}),5e3))},reset(){var e=this;clearTimeout(e.timeoutObj),clearTimeout(e.serverTimeoutObj),e.start()},start(){var e=this;e.timeoutObj&&clearTimeout(e.timeoutObj),e.serverTimeoutObj&&clearTimeout(e.serverTimeoutObj),e.timeoutObj=setTimeout((function(){1==e.websock.readyState||e.reconnect(),e.serverTimeoutObj=setTimeout((function(){}),e.timeout)}),e.timeout)},websocketonopen(e){console.log("成功")},websocketonerror(){console.log("失败"),this.initWebSocket()},websocketonmessage(e){const t=e.data;console.log(t);var o=JSON.parse(t);console.log(o),this.msglist.push(o),this.num=this.num+1,this.reset()},websocketsend(e){this.websock.send(e)},websocketclose(e){this.reconnect(),console.log("断开连接",e)},get_data:function(){this.myaxios("https://localhost/oc/","get",{id:localStorage.getItem("id")}).then(e=>{for(var t=[],o=0;o<e.length;o++){var c=JSON.parse(e[o]["audit"]);t.push({username:e[o]["username"],id:e[o]["id"],type:e[o]["type"],audit:c})}console.log(t),this.auditlist=t,this.num=this.auditlist.length})},change_state(e){return this.state_dict[e]},get_info:function(){this.myaxios("https://localhost/auditupdate/","get",{id:localStorage.getItem("id"),token:localStorage.getItem("token")}).then(e=>{console.log(e),this.state=e.state;try{var t=JSON.parse(e.audit),o=0;for(var c in t)this.info[c]=t[c].val,this.info["img"+o]=this.upload_dir+t[c].val,o++}catch(n){}})},set_click:function(e,t){console.log(e),this.index=e,this.key=t},getclient:function(){this.myaxios("https://localhost/client/","get",{id:localStorage.getItem("id")}).then(e=>{this.clientid=e.clientid})},commit:function(){let e={};var t=0;for(var o in this.info.data)console.log(o),console.log(this.info.data[o]),e[o]={text:this.info.data[o],val:this.info[o]},t++,console.log(t);console.log(e),this.myaxios("https://localhost/auditupdate/","put",{id:localStorage.getItem("id"),audit:JSON.stringify(e)}).then(e=>{console.log(e),200===e.code&&this.$toast.success("提交审核资料成功")})}},mounted(){this.get_data(),this.getclient(),this.initWebSocket()}};o("d47b");const se=i()(ie,[["render",ae],["__scopeId","data-v-749aa2dd"]]);var re=se;const de=e=>(Object(c["pushScopeId"])("data-v-6cf95088"),e=e(),Object(c["popScopeId"])(),e),ue=de(()=>Object(c["createElementVNode"])("h1",null,"充值页面",-1)),me={key:0},he={key:1},be={key:2,class:"radio"},pe={key:3,class:"radio"};function Oe(e,t,o,n,l,a){const i=Object(c["resolveComponent"])("van-step"),s=Object(c["resolveComponent"])("van-steps"),r=Object(c["resolveComponent"])("van-button"),d=Object(c["resolveComponent"])("van-radio"),u=Object(c["resolveComponent"])("van-radio-group"),m=Object(c["resolveComponent"])("van-field");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[ue,Object(c["createVNode"])(s,{active:l.active},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("阅读条款")]),_:1}),Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("同意条款")]),_:1}),Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("选择支付方式")]),_:1}),Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("输入充值金额")]),_:1})]),_:1},8,["active"]),0===l.active?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",me,[Object(c["createTextVNode"])(" 阅读条款 1.明确责任内容 2.用户对自己涉及钱款操作负责 "),Object(c["createVNode"])(r,{color:"blue",onClick:a.next},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("下一步")]),_:1},8,["onClick"])])):Object(c["createCommentVNode"])("",!0),1===l.active?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",he,[Object(c["createVNode"])(u,{modelValue:l.checked,"onUpdate:modelValue":t[0]||(t[0]=e=>l.checked=e)},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(d,{name:"0"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("不同意该充值条款")]),_:1}),Object(c["createVNode"])(d,{name:"1"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("同意该充值条款")]),_:1})]),_:1},8,["modelValue"]),Object(c["createVNode"])(r,{onClick:a.last},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("上一步")]),_:1},8,["onClick"]),1==l.checked?(Object(c["openBlock"])(),Object(c["createBlock"])(r,{key:0,onClick:a.next},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("下一步")]),_:1},8,["onClick"])):Object(c["createCommentVNode"])("",!0)])):Object(c["createCommentVNode"])("",!0),2===l.active?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",be,[Object(c["createVNode"])(u,{modelValue:l.pay,"onUpdate:modelValue":t[1]||(t[1]=e=>l.pay=e)},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(d,{name:"0"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("银行卡")]),_:1}),Object(c["createVNode"])(d,{name:"1"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("支付宝")]),_:1}),Object(c["createVNode"])(d,{name:"2"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("微信")]),_:1})]),_:1},8,["modelValue"]),0==l.pay?(Object(c["openBlock"])(),Object(c["createBlock"])(m,{key:0,label:"银行卡号",modelValue:l.card,"onUpdate:modelValue":t[2]||(t[2]=e=>l.card=e),placeholder:"请输入银行卡号"},null,8,["modelValue"])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(r,{onClick:a.last},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("上一步")]),_:1},8,["onClick"]),Object(c["createVNode"])(r,{onClick:a.next},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("下一步")]),_:1},8,["onClick"])])):Object(c["createCommentVNode"])("",!0),3===l.active?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",pe,[Object(c["createVNode"])(m,{label:"充值金额",modelValue:l.price,"onUpdate:modelValue":t[3]||(t[3]=e=>l.price=e),placeholder:"请输入金额"},null,8,["modelValue"]),Object(c["createVNode"])(r,{onClick:a.last},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("上一步")]),_:1},8,["onClick"]),Object(c["createVNode"])(r,{onClick:a.createorder},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("生成订单")]),_:1},8,["onClick"])])):Object(c["createCommentVNode"])("",!0)])}o("a99b");var je={data(){return{checked:0,info:{},type:1,types:[{id:1,text:"商户后台"},{id:2,text:"运营后台"},{id:3,text:"流量后台"}],index:0,key:"",state:0,state_dict:{0:"待审核",1:"审核通过",2:"审核拒绝",3:"审核中"},active:0,pay:0,card:"",price:0,mytoken:""}},methods:{createorder:function(){this.myaxios("https://localhost/order/","post",{id:localStorage.getItem("id"),price:this.price,mytoken:this.mytoken}).then(e=>{this.$toast.success(e.msg),this.active=0,this.get_step()})},get_step:function(){this.myaxios("https://localhost/stepform/","get",{id:localStorage.getItem("id")}).then(e=>{console.log(e),0!=e&&(this.active=e.index+1),console.log(this.active)})},last:function(){1===this.active&&(this.active=0),2===this.active&&(this.active=1),3===this.active&&(this.active=2),this.myaxios("https://localhost/stepform/","delete",{id:localStorage.getItem("id")}).then(e=>{console.log(e),1==this.active&&(this.checked=e.value),2==this.active&&(this.pay=e.value,0==e.value&&(this.card=e.card))})},next:function(){var e="";0===this.active?this.active=1:1===this.active?(this.active=2,e=this.checked):2===this.active&&(this.active=3,e=this.pay),this.myaxios("https://localhost/stepform/","post",{id:localStorage.getItem("id"),num:this.active-1,value:e,card:this.card}).then(e=>{console.log(e)})},change_state(e){return this.state_dict[e]},get_info:function(){this.myaxios("https://localhost/auditupdate/","get",{id:localStorage.getItem("id"),token:localStorage.getItem("token")}).then(e=>{console.log(e),this.state=e.state;var t=JSON.parse(e.audit),o=0;for(var c in t)this.info[c]=t[c].val,this.info["img"+o]=this.upload_dir+t[c].val,o++})},set_click:function(e,t){console.log(e),this.index=e,this.key=t},commit:function(){let e={};var t=0;for(var o in this.info.data)console.log(o),console.log(this.info.data[o]),e[o]={text:this.info.data[o],val:this.info[o]},t++,console.log(t);console.log(e),this.myaxios("https://localhost/auditupdate/","put",{id:localStorage.getItem("id"),audit:JSON.stringify(e)}).then(e=>{console.log(e),200===e.code&&this.$toast.success("提交审核资料成功")})},send_token:function(){this.myaxios("https://localhost/order/","put",{id:localStorage.getItem("id")}).then(e=>{var t=(new Date).getMinutes();console.log(t),this.mytoken=window.btoa("123_"+localStorage.getItem("id")+t),this.mytoken=this.mytoken.slice(0,this.mytoken.length-3),console.log(this.mytoken)})},get_role:function(){this.myaxios("https://localhost/role/","get",{type:localStorage.getItem("type")}).then(e=>{console.log(e),e=JSON.parse(e);var t=0;for(var o in e)this.info[o]="",this.info["img"+t]="",t++;this.info.data=e,console.log(this.info.data)})}},mounted(){this.send_token(),this.get_role(),this.get_info(),this.get_step()}};o("d87a");const ge=i()(je,[["render",Oe],["__scopeId","data-v-6cf95088"]]);var fe=ge;const ve=e=>(Object(c["pushScopeId"])("data-v-132069dc"),e=e(),Object(c["popScopeId"])(),e),ke=ve(()=>Object(c["createElementVNode"])("h1",null,"广告物料页面",-1)),Ve={key:0},ye={key:1},Ne=["src"],xe={key:2},we={controls:""},_e=["src"];function Ce(e,t,o,n,l,a){const i=Object(c["resolveComponent"])("van-button"),s=Object(c["resolveComponent"])("van-uploader"),r=Object(c["resolveComponent"])("van-image");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[ke,Object(c["createVNode"])(s,{"after-read":a.afterread},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(i,{icon:"plus",type:"primary"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("上传文件")]),_:1})]),_:1},8,["after-read"]),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(l.filelist,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:t},["png"===e.type||"jpg"===e.type||"jpeg"===e.type||"gif"===e.type||"webp"===e.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Ve,[Object(c["createVNode"])(r,{src:e.filename},null,8,["src"])])):Object(c["createCommentVNode"])("",!0),"mp4"===e.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ye,[Object(c["createElementVNode"])("video",{src:e.filename,width:"320",height:"240",controls:"controls",muted:"",autoplay:"autoplay"},null,8,Ne)])):Object(c["createCommentVNode"])("",!0),"mp3"===e.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",xe,[Object(c["createElementVNode"])("audio",we,[Object(c["createElementVNode"])("source",{src:e.filename,type:"audio/mpeg"},null,8,_e)])])):Object(c["createCommentVNode"])("",!0)]))),128))])}var Se={data(){return{info:{},type:1,types:[{id:1,text:"商户后台"},{id:2,text:"运营后台"},{id:3,text:"流量后台"}],index:0,key:"",state:0,state_dict:{0:"待审核",1:"审核通过",2:"审核拒绝",3:"审核中"},filelist:[]}},methods:{afterread:function(e){let t=new FormData;t.append("file",e.file),t.append("id",localStorage.getItem("id")),t.append("nodeid",localStorage.getItem("nodeid"));const o=this.axios.create({withCredentials:!1});o.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t?(console.log(e.data),e.data.append("token",t),e):(alert("token不存在"),!1)}),o({method:"post",url:"https://localhost/adupload/",data:t}).then(e=>{if(console.log(e),200==e.data.code){var t=this.upload_dir+e.data.filename,o=t.substring(t.lastIndexOf(".")+1);this.filelist.push({filename:t,type:o}),console.log(this.filelist)}else this.$toast.fail(e.data.msg)})},change_state(e){return this.state_dict[e]},get_info:function(){this.myaxios("https://localhost/auditupdate/","get",{id:localStorage.getItem("id"),token:localStorage.getItem("token")}).then(e=>{console.log(e),this.state=e.state;var t=JSON.parse(e.audit),o=0;for(var c in t)this.info[c]=t[c].val,this.info["img"+o]=this.upload_dir+t[c].val,o++})},set_click:function(e,t){console.log(e),this.index=e,this.key=t},commit:function(){let e={};var t=0;for(var o in this.info.data)console.log(o),console.log(this.info.data[o]),e[o]={text:this.info.data[o],val:this.info[o]},t++,console.log(t);console.log(e),this.myaxios("https://localhost/auditupdate/","put",{id:localStorage.getItem("id"),audit:JSON.stringify(e)}).then(e=>{console.log(e),200===e.code&&this.$toast.success("提交审核资料成功")})},get_role:function(){this.myaxios("https://localhost/role/","get",{type:localStorage.getItem("type")}).then(e=>{console.log(e),e=JSON.parse(e);var t=0;for(var o in e)this.info[o]="",this.info["img"+t]="",t++;this.info.data=e,console.log(this.info.data)})}},mounted(){this.get_role(),this.get_info()}};o("d1c0");const Be=i()(Se,[["render",Ce],["__scopeId","data-v-132069dc"]]);var Te=Be;const Ee=e=>(Object(c["pushScopeId"])("data-v-775a15df"),e=e(),Object(c["popScopeId"])(),e),Ie=Ee(()=>Object(c["createElementVNode"])("h1",null,"我的订单",-1)),De=Ee(()=>Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("td",null,"订单id"),Object(c["createTextVNode"])(),Object(c["createElementVNode"])("td",null,"金额"),Object(c["createTextVNode"])(),Object(c["createElementVNode"])("td",null,"状态"),Object(c["createTextVNode"])(),Object(c["createElementVNode"])("td",null,"操作")],-1));function Je(e,t,o,n,l,a){const i=Object(c["resolveComponent"])("van-button"),s=Object(c["resolveComponent"])("van-pagination");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Ie,Object(c["createElementVNode"])("table",null,[De,(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(l.orderlist,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:t},[Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.orderid),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.price),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.state),1),Object(c["createElementVNode"])("td",null,[Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("查看详情")]),_:1}),Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("删除订单")]),_:1}),Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("售后")]),_:1})])]))),128))]),Object(c["createVNode"])(s,{onChange:a.get_order,modelValue:l.page,"onUpdate:modelValue":t[0]||(t[0]=e=>l.page=e),"total-items":l.total,"items-per-page":l.size},null,8,["onChange","modelValue","total-items","items-per-page"])])}var We={data(){return{checked:0,info:{},type:1,types:[{id:1,text:"商户后台"},{id:2,text:"运营后台"},{id:3,text:"流量后台"}],index:0,key:"",state:0,orderlist:[],page:1,total:0,size:5}},methods:{get_order:function(){this.myaxios("https://localhost/orderlist/","get",{id:localStorage.getItem("id"),page:this.page}).then(e=>{console.log(e),this.total=e.total,this.orderlist=e.data})},get_info:function(){this.myaxios("https://localhost/auditupdate/","get",{id:localStorage.getItem("id"),token:localStorage.getItem("token")}).then(e=>{console.log(e),this.state=e.state;var t=JSON.parse(e.audit),o=0;for(var c in t)this.info[c]=t[c].val,this.info["img"+o]=this.upload_dir+t[c].val,o++})},commit:function(){let e={};var t=0;for(var o in this.info.data)console.log(o),console.log(this.info.data[o]),e[o]={text:this.info.data[o],val:this.info[o]},t++,console.log(t);console.log(e),this.myaxios("https://localhost/auditupdate/","put",{id:localStorage.getItem("id"),audit:JSON.stringify(e)}).then(e=>{console.log(e),200===e.code&&this.$toast.success("提交审核资料成功")})},get_role:function(){this.myaxios("https://localhost/role/","get",{type:localStorage.getItem("type")}).then(e=>{console.log(e),e=JSON.parse(e);var t=0;for(var o in e)this.info[o]="",this.info["img"+t]="",t++;this.info.data=e,console.log(this.info.data)})}},mounted(){this.get_order()}};o("d8bc");const Ue=i()(We,[["render",Je],["__scopeId","data-v-775a15df"]]);var Fe=Ue;const Re=e=>(Object(c["pushScopeId"])("data-v-f9833cf6"),e=e(),Object(c["popScopeId"])(),e),$e=Re(()=>Object(c["createElementVNode"])("h1",null,"聊天窗口",-1));function Le(e,t,o,n,l,a){const i=Object(c["resolveComponent"])("van-tab"),s=Object(c["resolveComponent"])("van-tabs"),r=Object(c["resolveComponent"])("van-field"),d=Object(c["resolveComponent"])("van-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[$e,Object(c["createVNode"])(s,{active:l.active,"onUpdate:active":t[0]||(t[0]=e=>l.active=e),onClick:a.change_channel},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(i,{title:"客服1号"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("table",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(l.msglist,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:t},Object(c["toDisplayString"])(e),1))),128))])]),_:1}),Object(c["createVNode"])(i,{title:"客服2号"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("table",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(l.msglist,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:t},Object(c["toDisplayString"])(e),1))),128))])]),_:1})]),_:1},8,["active","onClick"]),Object(c["createVNode"])(r,{label:"聊天信息",modelValue:l.msg,"onUpdate:modelValue":t[1]||(t[1]=e=>l.msg=e)},null,8,["modelValue"]),Object(c["createVNode"])(d,{color:"gray",onClick:a.commit},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("发送")]),_:1},8,["onClick"])])}var Me={data(){return{auditlist:[],msglist:[],msg:"",websock:null,lockReconnect:!1,timeout:3e3,timeoutObj:null,serverTimeoutObj:null,timeoutnum:null,active:0,channel:"channel_1"}},methods:{change_channel:function(){if(0===this.active){this.channel="channel_1";var e="channel",t="channel_1"}else{this.channel="channel_2";e="channel",t="channel_2"}this.msglist=[];var o=new Date;o.setTime(o.getTime()+864e5);var c="expires="+o.toGMTString();document.cookie=e+"="+t+"; "+c,this.reconnect()},initWebSocket(){const e="ws://localhost:8000/wb/";this.websock=new WebSocket(e),this.websock.onopen=this.websocketonopen,this.websock.onmessage=this.websocketonmessage,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},reconnect(){var e=this;e.lockReconnect||(e.lockReconnect=!0,e.timeoutnum&&clearTimeout(e.timeoutnum),e.timeoutnum=setTimeout((function(){e.initWebSocket(),e.lockReconnect=!1}),5e3))},reset(){var e=this;clearTimeout(e.timeoutObj),clearTimeout(e.serverTimeoutObj),e.start()},start(){var e=this;e.timeoutObj&&clearTimeout(e.timeoutObj),e.serverTimeoutObj&&clearTimeout(e.serverTimeoutObj),e.timeoutObj=setTimeout((function(){1==e.websock.readyState||e.reconnect(),e.serverTimeoutObj=setTimeout((function(){}),e.timeout)}),e.timeout)},websocketonopen(e){console.log("成功")},websocketonerror(){console.log("失败"),this.initWebSocket()},websocketonmessage(e){console.log(e);const t=e.data;this.msglist.push(t),console.log(t)},websocketsend(e){this.websock.send(e)},websocketclose(e){this.reconnect(),console.log("断开连接",e)},commit:function(){this.myaxios("http://localhost:8000/send/","post",{data:this.msg,channel:this.channel}).then(e=>{console.log(e)})}},mounted(){this.initWebSocket();var e=new Date;e.setTime(e.getTime()+864e5);var t="expires="+e.toGMTString();document.cookie="channel=channel_1; "+t}};o("65a2");const Pe=i()(Me,[["render",Le],["__scopeId","data-v-f9833cf6"]]);var ze=Pe,Ge={data(){return{info:{},type:1,types:[{id:1,text:"商户后台"},{id:2,text:"运营后台"},{id:3,text:"流量后台"}],index:0,key:"",state:0,state_dict:{0:"待审核",1:"审核通过",2:"审核拒绝",3:"审核中"},nodeid:0,sex:0}},components:{left:X,right_merchant:te,right_oc:re,setmoney:fe,adthing:Te,myorder:Fe,chat:ze},methods:{get_val:function(e){console.log(e),this.nodeid=e,localStorage.setItem("nodeid",this.nodeid)},change_state(e){return this.state_dict[e]},get_info:function(){this.myaxios("https://localhost/auditupdate/","get",{id:localStorage.getItem("id"),token:localStorage.getItem("token")}).then(e=>{console.log(e),this.state=e.state,this.sex=e.sex,localStorage.setItem("sex",this.sex);try{var t=JSON.parse(e.audit),o=0;for(var c in t)this.info[c]=t[c].val,this.info["img"+o]=this.upload_dir+t[c].val,o++}catch(n){}})},set_click:function(e,t){console.log(e),this.index=e,this.key=t},commit:function(){let e={};var t=0;for(var o in this.info.data)console.log(o),console.log(this.info.data[o]),e[o]={text:this.info.data[o],val:this.info[o]},t++,console.log(t);console.log(e),this.myaxios("https://localhost/auditupdate/","put",{id:localStorage.getItem("id"),audit:JSON.stringify(e)}).then(e=>{console.log(e),200===e.code&&this.$toast.success("提交审核资料成功")})},afterread:function(e){let t=new FormData;t.append("file",e.file),t.append("type","audit");const o=this.axios.create({withCredentials:!1});o({method:"post",url:"https://localhost/upload/",data:t}).then(e=>{console.log(e),this.info["img"+this.index]=this.upload_dir+e.data.filename,this.info[this.key]=e.data.filename})},get_role:function(){this.myaxios("https://localhost/role/","get",{type:localStorage.getItem("type")}).then(e=>{console.log(e),e=JSON.parse(e);var t=0;for(var o in e)this.info[o]="",this.info["img"+t]="",t++;this.info.data=e,console.log(this.info.data)})}},mounted(){this.type=localStorage.getItem("type"),this.get_info()}};o("77b3");const He=i()(Ge,[["render",G],["__scopeId","data-v-2c657ffa"]]);var qe=He;const Ae=e=>(Object(c["pushScopeId"])("data-v-29cebe4c"),e=e(),Object(c["popScopeId"])(),e),Ke=Ae(()=>Object(c["createElementVNode"])("h1",null,"聊天窗口",-1));function Qe(e,t,o,n,l,a){const i=Object(c["resolveComponent"])("van-field"),s=Object(c["resolveComponent"])("van-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Ke,Object(c["createElementVNode"])("table",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(l.msglist,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:t},Object(c["toDisplayString"])(e),1))),128))]),Object(c["createVNode"])(i,{label:"聊天信息",modelValue:l.msg,"onUpdate:modelValue":t[0]||(t[0]=e=>l.msg=e)},null,8,["modelValue"]),Object(c["createVNode"])(s,{color:"gray",onClick:a.commit},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("发送")]),_:1},8,["onClick"])])}var Xe={data(){return{auditlist:[],msglist:[],msg:"",websock:null,lockReconnect:!1,timeout:3e3,timeoutObj:null,serverTimeoutObj:null,timeoutnum:null,channel:""}},methods:{initWebSocket(){const e="ws://localhost:8000/wb/";this.websock=new WebSocket(e),this.websock.onopen=this.websocketonopen,this.websock.onmessage=this.websocketonmessage,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},reconnect(){var e=this;e.lockReconnect||(e.lockReconnect=!0,e.timeoutnum&&clearTimeout(e.timeoutnum),e.timeoutnum=setTimeout((function(){e.initWebSocket(),e.lockReconnect=!1}),5e3))},reset(){var e=this;clearTimeout(e.timeoutObj),clearTimeout(e.serverTimeoutObj),e.start()},start(){var e=this;e.timeoutObj&&clearTimeout(e.timeoutObj),e.serverTimeoutObj&&clearTimeout(e.serverTimeoutObj),e.timeoutObj=setTimeout((function(){1==e.websock.readyState||e.reconnect(),e.serverTimeoutObj=setTimeout((function(){}),e.timeout)}),e.timeout)},websocketonopen(e){console.log("成功")},websocketonerror(){console.log("失败"),this.initWebSocket()},websocketonmessage(e){console.log(e);const t=e.data;this.msglist.push(t),console.log(t)},websocketsend(e){this.websock.send(e)},websocketclose(e){this.reconnect(),console.log("断开连接",e)},commit:function(){this.myaxios("http://localhost:8000/send/","post",{data:this.msg,channel:this.channel}).then(e=>{console.log(e)})}},mounted(){var e="channel",t="channel_2",o=new Date;o.setTime(o.getTime()+864e5);var c="expires="+o.toGMTString();document.cookie=e+"="+t+"; "+c,this.channel=t,this.initWebSocket()}};o("945e");const Ye=i()(Xe,[["render",Qe],["__scopeId","data-v-29cebe4c"]]);var Ze=Ye,et=[{path:"/",name:"HelloWorld",component:p},{path:"/reg",name:"reg",component:V},{path:"/login",name:"login",component:S},{path:"/userinfo",name:"userinfo",component:qe},{path:"/chat_client",name:"chat_client",component:Ze},{path:"/chat",name:"chat",component:ze}];const tt=new u["a"]({history:Object(u["b"])(),routes:et});var ot=o("ee1f"),ct=o.n(ot),nt=o("f2ed"),lt=o.n(nt),at=o("2781");o("e1e3");const it=function(e,t,o={}){return new Promise(c=>{"get"===t||"delete"===t?ct()({method:t,url:e,params:o}).then(e=>{c(e.data)}):ct()({method:t,url:e,data:lt.a.stringify(o)}).then(e=>{c(e.data)})})},st=Object(c["createApp"])(d);st.config.globalProperties.myaxios=it,st.config.globalProperties.axios=ct.a,st.config.globalProperties.upload_dir="https://localhost/static/",st.use(tt),st.use(at["a"]),st.mount("#app")},"5f94":function(e,t,o){},"65a2":function(e,t,o){"use strict";o("6cdf")},"688c":function(e,t,o){},"6cdf":function(e,t,o){},"748c":function(e,t,o){},"77b3":function(e,t,o){"use strict";o("688c")},8084:function(e,t,o){"use strict";o("5f94")},"8b65":function(e,t,o){},"945e":function(e,t,o){"use strict";o("df12")},c212:function(e,t,o){},d1b1:function(e,t,o){"use strict";o("8b65")},d1c0:function(e,t,o){"use strict";o("748c")},d47b:function(e,t,o){"use strict";o("c212")},d87a:function(e,t,o){"use strict";o("e7d4")},d8bc:function(e,t,o){"use strict";o("de2c")},de2c:function(e,t,o){},df12:function(e,t,o){},e152:function(e,t,o){"use strict";o("212c")},e7d4:function(e,t,o){},ffa1:function(e,t,o){}});
//# sourceMappingURL=app.995e6774.js.map